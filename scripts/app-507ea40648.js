!function(){"use strict";angular.module("neatClient",["ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ui.router","ngMaterial"])}(),function(){"use strict";function e(e,t,n,i,a){function r(){function e(){b=w.getElementById("user-search")}return angular.element(w).ready(e),y.showEnabled=!0,o().then(d)}function o(){return e.getUsers().then(l(v))}function l(e){return function(t){return e=t,y.users=e,y.users}}function d(){var e=y.showEnabled?" ":" disabled ";t.info("Loaded"+e+"users")}function s(){return e.getDisabledUsers().then(l(h))}function c(){return y.showEnabled=!y.showEnabled,y.showEnabled?o().then(d):s().then(d)}function u(e){y.showEnabled?$(e,y.users):y.showConfirm(e,0,"delAll",{name:""},y.users)}function m(t){var n="A"==t.privilege?"M":"A";e.updateRole(t.id,n).then(function(){t.privilege=n})}function g(){b.focus()}function p(e){return"A"==e?"md-warn":"md-accent md-hue-3"}function f(e){return e.disabled?"enable":e.active?"reset":"inactive"}var v,h,b,y=this,w=n[0],$=a.showAdd;y.isAdmin=i.isAdmin,y.isSelf=i.isSelf,y.switchUsers=c,y.showConfirm=a.showConfirm,y.addOrDeleteAll=u,y.changeRole=m,y.focusSearch=g,y.roleClass=p,y.resetText=f,r()}e.$inject=["UserData","$log","$document","AuthService","UserDialog"],angular.module("neatClient").controller("UsersController",e)}(),function(){"use strict";function e(e,t,n,i){function a(n,i,a,o,l){function d(){return"Confirm to"+s[a].text+o.name}var s={del:{text:" delete ",content:"If the user has associated records, user will be disabled instead. Switch to disabled users view to perform hard delete.",ariaLabel:"Confirm delete",ok:"Delete",confirmAction:function(){t.deleteUser(o.id).then(function(e){l.splice(i,1),r(e.message+": "+o.name)})}},delAll:{text:" DELETE ALL ",content:"Delete all disabled users. Are you sure?",ariaLabel:"Confirm delete all",ok:"Delete All",confirmAction:function(){t.deleteAllDisabled().then(function(e){l.length=0,r(e.message+": "+e.affected)})}},reset:{text:" reset ",content:"Deactivate user and reset password. Once reset, user need to go through sign up process same as new user",ariaLabel:"Confirm reset",ok:"Reset",confirmAction:function(){t.resetUser(o.id).then(function(){o.active=!1,r("Reset "+o.name)})}},enable:{text:" enable ",content:"Will restore user to original state (active or inactive)",ariaLabel:"Confirm enable",ok:"Enable",confirmAction:function(){t.enableUser(o.id).then(function(){l.splice(i,1),r("Enabled "+o.name)})}}},c=e.confirm().title(d()).textContent(s[a].content).ariaLabel(s[a].ariaLabel).targetEvent(n).ok(s[a].ok).cancel("Cancel");e.show(c).then(s[a].confirmAction)}function r(e){return i.show(i.simple().textContent(e).position("bottom right").hideDelay(2e3))}function o(n,i){function a(e,n){e.privilege="M",e.cancel=function(){n.cancel()},e.add=function(){t.createUser({email:e.email,name:e.name,privilege:e.privilege}).then(function(e){var t=e.user;i.push(t),r("Added user: "+t.name),n.hide()})}}a.$inject=["$scope","$mdDialog"],e.show({controller:a,templateUrl:"app/users/add.dialog.html",parent:angular.element(l.body),targetEvent:n,clickOutsideToClose:!0})}var l=n[0],d={showConfirm:a,showAdd:o};return d}e.$inject=["$mdDialog","UserData","$document","$mdToast"],angular.module("neatClient").factory("UserDialog",e)}(),function(){"use strict";function e(e,t,n,i){function a(){return i.get(e("/users")).then(o)["catch"](d("XHR getUsers failed"))}function r(){return i.get(e("/users?disabled=1")).then(o)["catch"](d("XHR getDisabledUsers failed"))}function o(e){var t=e.data.users;return t}function l(e){return e.data}function d(e){return function(i){var a=e;return i.data&&i.data.description&&(a+="\n"+i.data.description),i.data&&(i.data.description=a),n.error(i.data),t.reject(i)}}function s(t){return i.post(e("/users"),t).then(l)["catch"](d("XHR createUser failed"))}function c(t){return i.put(e("/user",t),{password:"null",active:"No"}).then(l)["catch"](d(f("resetUser",t)))}function u(t,n){return i.put(e("/user",t),{privilege:n}).then(l)["catch"](d(f("updateRole",t)))}function m(t){return i.put(e("/user",t),{disabled:"false"}).then(l)["catch"](d(f("enableUser",t)))}function g(t){return i["delete"](e("/user",t)).then(l)["catch"](d(f("deleteUser",t)))}function p(){return i["delete"](e("/users")).then(l)["catch"](d("XHR deleteAllDisabled failed"))}function f(e,t){return"XHR "+e+" by "+t+" failed"}var v={getUsers:a,getDisabledUsers:r,createUser:s,resetUser:c,updateRole:u,enableUser:m,deleteUser:g,deleteAllDisabled:p};return v}e.$inject=["url","$q","$log","$http"],angular.module("neatClient").factory("UserData",e)}(),function(){"use strict";function e(e,t,n,i){function a(e,t){n.log("adding script tag");var i=o.createElement("script");i.src=e+t,o.body.appendChild(i)}function r(t,n,i){function a(n,a){a===t.GeocoderStatus.OK?n[0]?i(n[0]):e.alert("No results found"):e.alert("Geocoder failed due to: "+a)}var r=new t.Geocoder;r.geocode({location:n},a)}var o=e.document,l="https://maps.googleapis.com/maps/api/js?key=";l+=t+"&libraries=places&callback=";var d=i.defer();e.GMapInitialized=d.resolve,a(l,"GMapInitialized");var s={initialized:d.promise,geocoder:r};return s}e.$inject=["$window","ApiKey","$log","$q"],angular.module("neatClient").factory("MapInit",e)}(),function(){"use strict";function e(e,t,n,i,a,r,o,l,d,s,c){function u(e){var t="<h4>"+e.Location.address+"</h4>",n="<p>Severity: "+e.severity+"</p>",i="<p>"+(e.description||"n/a")+"</p>",a="<md-divider></md-divider>",r='<button class="md-primary md-button" type="button" aria-label="Edit" id="edit-record-btn">Edit</button>',o='<button class="md-primary md-button" type="button" aria-label="Delete" id="del-record-btn">Delete</button>',l=t+n+i+a+r+o;return l}function m(l,c,u,m){return function(f,v,h,b){function y(a,o){function y(){var t=e("address"),n=new c.places.SearchBox(t);u.addListener("bounds_changed",function(){n.setBounds(u.getBounds())}),n.addListener("places_changed",function(){var e=n.getPlaces();if(0!==e.length){var t=e[0];D.address=t.name,D["long"]=t.geometry.location.lng(),D.lat=t.geometry.location.lat()}})}function w(){o.cancel()}function $(){var e={"long":D["long"],lat:D.lat,address:D.address,description:D.description,severity:D.severity,user_id:d.me.id,type_id:D.typeId};R&&!S?x(e):k(e),o.hide()}function k(e){t.createRecord(e).then(function(e){S&&(h.close(),g(f,v,b));var t=e.record;t.Location={address:D.address,latitude:D.lat,longitude:D["long"]},m(D.lat,D["long"],t,!0)})}function x(e){t.updateRecord(A.id,e).then(function(e){h.close();var t=e.affected[1][0];t.Location={address:D.address,latitude:D.lat,longitude:D["long"]},v.myRecord=t,v.setIcon(i(l[t.TypeId],t.severity,c)),v.setPosition({lat:D.lat,lng:D["long"]})})}function C(){D.address="Locating...",D.locating=!0,p.geolocation?p.geolocation.getCurrentPosition(function(e){function t(e){D.locating=!1,D.address=e.formatted_address,D.$apply()}D.lat=e.coords.latitude,D["long"]=e.coords.longitude,n.geocoder(c,{lat:D.lat,lng:D["long"]},t)}):r.error("Browser does not support goelocation")}var A,S,D=a,R=v?!0:!1;s(y),D.types=l,D.severity=3,D.cancel=w,D.confirm=$,D.locateCurrent=C,R&&(A=v.myRecord,D.lat=A.Location.latitude,D["long"]=A.Location.longitude,D.address=A.Location.address,D.description=A.description,D.severity=A.severity,D.typeId=A.TypeId,S=!A.TypeId)}y.$inject=["$scope","$mdDialog"],o.show({controller:y,templateUrl:"app/map/marker.dialog.html",parent:angular.element(a[0].body),targetEvent:f,clickOutsideToClose:!0})}}function g(e,n,i){function a(){t.deleteRecord(n.myRecord.id).then(l)}function l(e){n.setMap(null);var t=i.indexOf(n);t>-1&&i.splice(t,1),e&&r.info(e)}var d=n.myRecord;if(!d.TypeId)return l();var s=d.Location.address,c="Inreversible. Are you sure you want to delete: "+s+"?",u=o.confirm().title("Confirm to delete").textContent(c).ariaLabel("Confirm delete").targetEvent(e).ok("Delete").cancel("Cancel");o.show(u).then(a)}var p=c.navigator,f={createInfoContent:u,initMarkerDialog:m,confirmDelete:g};return f}e.$inject=["byId","MapData","MapInit","mapIcons","$document","$log","$mdDialog","$mdToast","$rootScope","$timeout","$window"],angular.module("neatClient").factory("MapDialog",e)}(),function(){"use strict";function e(e,t,n,i){function a(){return i.get(e("/types")).then(l("types"))["catch"](s("XHR getTypes failed"))}function r(){return i.get(e("/records")).then(l("records"))["catch"](s("XHR getRecords failed"))}function o(t,n){var a="?";return t.length>0&&(t=t.join(),a+="ftypes="+t,a+=n>0?"&":""),n>0&&(a+="fseverity="+n),i.get(e("/records"+a)).then(l("records"))["catch"](s("XHR getFilteredRecords failed"))}function l(e){return function(t){return t.data[e]}}function d(e){return e.data}function s(e){return function(i){var a=e;return i.data&&i.data.description&&(a+="\n"+i.data.description),i.data&&(i.data.description=a),n.error(i.data),t.reject(i)}}function c(t){return i.post(e("/records"),t).then(d)["catch"](s("XHR createRecord failed"))}function u(t,n){return i.put(e("/record",t),n).then(d)["catch"](s(g("updateRecord",t)))}function m(t){return i["delete"](e("/record",t)).then(d)["catch"](s(g("deleteRecord",t)))}function g(e,t){return"XHR "+e+" by "+t+" failed"}var p={getTypes:a,getRecords:r,getFilteredRecords:o,createRecord:c,updateRecord:u,deleteRecord:m};return p}e.$inject=["url","$q","$log","$http"],angular.module("neatClient").factory("MapData",e)}(),function(){"use strict";function e(e,t,n,i,a,r,o,l,d,s,c){function u(){R=e("map"),a.initialized.then(g).then(k)}function m(){U.locating=!0,L.geolocation?L.geolocation.getCurrentPosition(function(e){U.locating=!1,d.mapView.center={lat:e.coords.latitude,lng:e.coords.longitude},g()}):r.error("Browser does not support goelocation")}function g(){return S=c.google.maps,D=new S.Map(R,d.mapView),D.addListener("idle",function(){d.mapView={center:D.getCenter(),zoom:D.getZoom()}}),p(),w().then($).then(v)}function p(){function e(e){a.geocoder(S,e.latLng,f)}D.addListener("click",e)}function f(e){var t=18e4,i=e.geometry.location,a=i.lat(),r=i.lng(),o={Location:{address:e.formatted_address,latitude:a,longitude:r},severity:3},l=h(a,r,o,!0,!0);setTimeout(function(){n.confirmDelete(0,l,E)},t)}function v(e){return e.forEach(function(e){var t=e.Location;h(t.latitude,t.longitude,e)}),e}function h(e,t,n,a,r){var o=r?"placeholder":U.types[n.TypeId],l={position:{lat:e,lng:t},icon:i(o,n.severity,S),map:D,myRecord:n,infowindow:null};a&&(l.animation=S.Animation.DROP);var d=new S.Marker(l);return y(d),E.push(d),d}function b(){E.forEach(function(e){e.setMap(null)}),E=[]}function y(t){t.addListener("click",function(){var t=this;if(t.infowindow){var i=t.infowindow;return t.infowindow=null,i.close()}return t.infowindow=new S.InfoWindow({content:n.createInfoContent(t.myRecord)}),t.infowindow.addListener("domready",function(){var i=e("edit-record-btn"),a=e("del-record-btn");i.addEventListener("click",function(e){U.showDialog(e,t,t.infowindow,E)}),a.addEventListener("click",function(e){n.confirmDelete(e,t,E)})}),t.infowindow.open(D,t)})}function w(){function e(e,t){return e[t.id]=t.name,e}function n(e){return e.checked=!1,e}return t.getTypes().then(function(t){return U.types=t.reduce(e,{}),U.filterTypes=t.map(n),U.types})}function $(){return t.getRecords().then(function(e){return e})}function k(){U.showDialog=n.initMarkerDialog(U.types,S,D,h),s.$watch("mp.filterSeverity",function(e){e&&!M&&(U.applySeverity=!0),M=!1})}function x(){return l("left").toggle()}function C(){function e(e,t){return t.checked&&e.push(t.id),e}var n=U.filterTypes.reduce(e,[]);if(b(),0===n.length&&!U.applySeverity)return $().then(v);n.length===U.filterTypes.length&&(n=[]);var i=U.applySeverity?U.filterSeverity:0;return t.getFilteredRecords(n,i).then(v)}function A(){function e(e){e.checked=!1}M=!0,U.filterTypes.forEach(e),U.filterSeverity=1,U.applySeverity=!1}var S,D,R,U=this,E=[],M=!1,L=c.navigator;U.toggleSideMenu=x,U.filterUpdate=C,U.filterClearAll=A,U.getLocalMap=m,u()}e.$inject=["byId","MapData","MapDialog","mapIcons","MapInit","$log","$mdDialog","$mdSidenav","$rootScope","$scope","$window"],angular.module("neatClient").controller("MapController",e)}(),function(){"use strict";function e(e,t,n,i){function a(t){var a=n.loginForm?n.loginForm.$valid:n.joinForm.$valid;a?e.login(d.email,d.password).then(function(){e.getMe().then(function(){i.go("map")})})["catch"](function(e){l(t,e.message)}):l(t,"One or more fields invalid")}function r(){e.register(d.email,d.name,d.password,d.confirm).then(function(e){e.user.active&&a()})}function o(e,t){return 13===e.charCode?t?r():a(e):void 0}function l(e,n){var i=t.confirm().clickOutsideToClose(!0).title("Login Failed").textContent(n).ariaLabel("Invalid login warning dialog").targetEvent(e).ok("Try Again").cancel("Ok");t.show(i).then(function(){d.password=""})}var d=this;d.login=a,d.join=r,d.enter=o}e.$inject=["AuthService","$mdDialog","$scope","$state"],angular.module("neatClient").controller("AuthController",e)}(),function(){"use strict";function e(e,t){function n(){e.logout(),t.go("login")}var i=this;i.logout=n}e.$inject=["AuthService","$state"],angular.module("neatClient").controller("NavController",e)}(),function(){"use strict";function e(e){function t(e,t){n.title="Neat | "+i[t.name]}var n=this,i={map:"Map",users:"Users",join:"Join Neat",login:"Login"};e.$on("$stateChangeSuccess",t)}e.$inject=["$rootScope"],angular.module("neatClient").controller("TitleController",e)}(),function(){"use strict";function e(e){function t(){return e.localStorage.getItem("token")}function n(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token")}var i={getToken:t,setToken:n};return i}e.$inject=["$window"],angular.module("neatClient").factory("AuthToken",e)}(),function(){"use strict";function e(e,t,n,i,a,r){function o(e,a,o,l){function d(e){return e.data}function s(e){return i.error(e.data),n.reject(e)}return t.put(r("/register"),{email:e,name:a,password:o,confirm:l}).then(d)["catch"](s)}function l(a,o){function l(t){return e.setToken(t.data.token),t.data}function s(t){return e.setToken(),i.error(t.data),n.reject(t.data)}return d(),t.post(r("/authenticate"),{email:a,password:o}).then(l)["catch"](s)}function d(){e.setToken(),a.me={}}function s(){return e.getToken()?!0:!1}function c(){return Boolean(a.me)&&"A"==a.me.privilege}function u(e){return a.me&&a.me.id==e}function m(){function e(e){var t=e.data.user;return a.me=t,i.info("Added me"),t}function o(e){return i.error(e.data),n.reject(e)}return t.get(r("/me")).then(e)["catch"](o)}var g={register:o,login:l,logout:d,isLoggedIn:s,isAdmin:c,isSelf:u,getMe:m};return g}e.$inject=["AuthToken","$http","$q","$log","$rootScope","url"],angular.module("neatClient").factory("AuthService",e)}(),function(){"use strict";function e(e,t){function n(e){var n=t.getToken();return n&&(e.headers.Authorization="Bearer "+n),e}function i(n){return 403==n.status&&t.setToken(),e.reject(n)}var a={request:n,responseError:i};return a}e.$inject=["$q","AuthToken"],angular.module("neatClient").factory("AuthInterceptor",e)}(),function(){"use strict";function e(e,t,n,i){function a(a,r){var o=i.isLoggedIn();if("join"!==r.name)return"login"===r.name?void(o&&(a.preventDefault(),n.go("map"))):void(o?t.me&&t.me.privilege||i.getMe().then(function(){e.info("Readded me")}):(a.preventDefault(),n.go("login")))}t.mapView={center:{lat:44.4120908,lng:-79.6701331},zoom:15},t.$on("$stateChangeStart",a),e.debug("runBlock end")}e.$inject=["$log","$rootScope","$state","AuthService"],angular.module("neatClient").run(e)}(),function(){"use strict";function e(e,t,n){var i={templateUrl:"app/layout/nav.html",controller:"NavController",controllerAs:"nv"};e.state("map",{url:"/",views:{nav:i,content:{templateUrl:"app/map/map.html",controller:"MapController",controllerAs:"mp"}}}).state("users",{url:"/users",views:{nav:i,content:{templateUrl:"app/users/users.html",controller:"UsersController",controllerAs:"us"}}}).state("join",{url:"/join",views:{content:{templateUrl:"app/login/join.html",controller:"AuthController",controllerAs:"au"}}}).state("login",{url:"/login",views:{content:{templateUrl:"app/login/login.html",controller:"AuthController",controllerAs:"au"}}}),n.otherwise("/"),t.html5Mode(!0)}e.$inject=["$stateProvider","$locationProvider","$urlRouterProvider"],angular.module("neatClient").config(e)}(),function(){"use strict";function e(e,t,n){e=e.toLowerCase();var i={1:"-green",2:"-yellow",3:"-yellow",4:"-red",5:"-red"},a="../assets/images/";return a+="placeholder"==e?e+".svg":e.replace(" ","-")+i[t]+".svg",{url:a,anchor:new n.Point(28,28)}}function t(e){return document.getElementById(e)}function n(e,t){var n="https://neatmap.xyz/api";return e=n+e,t&&(e+="/"+t),e}angular.module("neatClient").constant("ApiKey","AIzaSyC_I1rGTiTnBiYQmCFou6xYWzC1rR3QetM").constant("mapIcons",e).constant("byId",t).constant("url",n)}(),function(){"use strict";function e(e,t,n,i){e.debugEnabled(!0),t.interceptors.push("AuthInterceptor");var a=n.extendPalette("blue-grey",{900:"#1f2532"}),r=n.extendPalette("red",{400:"#ff5252"});n.definePalette("neatGrey",a).definePalette("neatRed",r).theme("default").primaryPalette("neatRed",{"default":"400"}).accentPalette("neatGrey",{"default":"900","hue-2":"500"}).warnPalette("orange"),i.icon("logo-header","/assets/images/logo-header.svg").icon("logo-login","/assets/images/logo-login.svg")}e.$inject=["$logProvider","$httpProvider","$mdThemingProvider","$mdIconProvider"],angular.module("neatClient").config(e)}(),angular.module("neatClient").run(["$templateCache",function(e){e.put("app/login/join.html",'<md-content class="dark-bg" layout="row" layout-align="center center" layout-fill=""><md-card flex="30" flex-md="40" flex-sm="55" flex-xs="90" class="login-box md-whiteframe-6dp"><div style="height:70px"><md-icon md-svg-icon="logo-login" class="join-logo"></md-icon></div><form name="joinForm" class="login-form"><div layout="column"><md-input-container><label>Email</label> <input name="email" type="email" required="" ng-pattern="/^.+@.+\\..+$/" ng-model="au.email"><div ng-messages="joinForm.email.$error"><div ng-message="required">Email Required</div><div ng-message="pattern">Invalid Email</div></div></md-input-container><md-input-container><label>Name</label> <input name="name" ng-model="au.name"></md-input-container><md-input-container><label>Password</label> <input type="password" name="password" required="" ng-model="au.password"><div ng-messages="joinForm.password.$error"><div ng-message="required">Password required</div></div></md-input-container><md-input-container><label>Confirm Password</label> <input type="password" name="confirm" ng-keypress="au.enter($event, true)" required="" ng-model="au.confirm"><div ng-messages="joinForm.confirm.$error"><div ng-message="required">Confirm Password required</div></div></md-input-container></div></form><md-card-actions layout="column"><md-button class="login-btn md-raised md-primary" ng-click="au.join()">Join Neat</md-button></md-card-actions></md-card></md-content>'),e.put("app/login/login.html",'<md-content class="dark-bg" layout="row" layout-align="center center" layout-fill=""><md-card flex="30" flex-md="40" flex-sm="55" flex-xs="90" class="login-box md-whiteframe-6dp"><div style="height:140px"><md-icon md-svg-icon="logo-login" class="login-logo"></md-icon></div><form name="loginForm" class="login-form"><div layout="column"><md-input-container><label>Email</label> <input name="email" type="email" required="" ng-pattern="/^.+@.+\\..+$/" ng-model="au.email"><div ng-messages="loginForm.email.$error"><div ng-message="required">Email Required</div><div ng-message="pattern">Invalid Email</div></div></md-input-container><md-input-container><label>Password</label> <input type="password" name="password" ng-keypress="au.enter($event)" required="" ng-model="au.password"><div ng-messages="loginForm.password.$error"><div ng-message="required">Password required</div></div></md-input-container></div></form><md-card-actions layout="column"><md-button class="login-btn md-raised md-primary" ng-click="au.login($event)">Login</md-button></md-card-actions></md-card></md-content>'),e.put("app/layout/nav.html",'<md-toolbar layout="row" class="md-accent md-whiteframe-4dp pos-fixed"><md-button flex="20" aria-label="App Logo, Go to Home"><a ui-sref="map"><md-icon md-svg-icon="logo-header" class="head-logo"></md-icon></a></md-button><nav flex="60" layout="row" layout-align="center center"><a class="nav-link" ui-sref="map" ui-sref-active="nav-link--active" md-ink-ripple="">Map</a> <a class="nav-link" ui-sref="users" ui-sref-active="nav-link--active" md-ink-ripple="">Users</a></nav><span flex="20" layout="row" layout-align="center center"><md-menu><md-button ng-click="$mdOpenMenu($event)"><i class="material-icons mi--mid">account_circle</i> {{me.name.split(\' \')[0]}}</md-button><md-menu-content><md-menu-item><p>{{me.name}}</p></md-menu-item><md-menu-item><md-button class="md-primary" ng-click="nv.logout()">Logout</md-button></md-menu-item></md-menu-content></md-menu></span></md-toolbar>'),e.put("app/map/map.html",'<md-sidenav class="md-sidenav-left" md-component-id="left" md-whiteframe="4"><md-toolbar><h1 class="md-toolbar-tools"><i class="material-icons mi--mid" style="margin-right:10px">blur_circular</i> Filter Records</h1></md-toolbar><div layout="column" layout-padding="" layout-margin=""><h4 class="md-subhead">Type</h4><div layout="row" layout-wrap=""><md-checkbox class="md-primary" flex="45" ng-repeat="type in mp.filterTypes" ng-model="type.checked" aria-label="{{type.name}} checkbox">{{type.name}}</md-checkbox></div><md-checkbox class="md-primary" style="margin-left:16px" ng-model="mp.applySeverity" aria-label="Apply severity filter checkbox">Severity: {{mp.applySeverity ? mp.filterSeverity : \'n/a\'}}</md-checkbox><md-slider class="md-primary" ng-model="mp.filterSeverity" step="1" min="1" max="5" aria-label="severity filter slider" md-discrete=""></md-slider><div layout="row" layout-wrap=""><md-button class="md-primary" ng-click="mp.filterClearAll()">Clear All</md-button><md-button class="md-raised md-primary" ng-click="mp.filterUpdate()">Update</md-button><md-button ng-click="mp.toggleSideMenu()">Cancel</md-button></div></div></md-sidenav><div ng-if="mp.locating"><md-progress-linear class="map-progress" md-mode="indeterminate"></md-progress-linear></div><md-button class="md-fab md-fab--lg md-fab--search pos-fixed" ng-click="mp.toggleSideMenu()" aria-label="Filter markers"><i class="material-icons mi--mid">assignment</i></md-button><md-fab-speed-dial class="md-scale pos-fixed md-fab--add" md-direction="up"><md-fab-trigger><md-button class="md-fab md-primary md-fab--lg" aria-label="map function menu"><i class="material-icons mi--mid">more_vert</i></md-button></md-fab-trigger><md-fab-actions><md-button class="md-fab md-raised md-mini" ng-click="mp.filterUpdate()" aria-label="refresh markers"><i class="material-icons mi--mid">refresh</i></md-button><md-button class="md-fab md-raised md-mini md-primary" ng-click="mp.showDialog($event)" aria-label="Add new marker"><i class="material-icons mi--mid">add_location</i></md-button><md-button class="md-fab md-raised md-mini" ng-click="mp.getLocalMap()" aria-label="Locate current map view"><i class="material-icons mi--mid">my_location</i></md-button></md-fab-actions></md-fab-speed-dial><div layout="row" id="map" layout-fill=""></div>'),e.put("app/map/marker.dialog.html",'<md-dialog aria-label="Add Marker" flex="30" flex-md="40" flex-sm="55" flex-xs="90" layout-padding=""><md-dialog-content><div class="md-dialog-content"><h3 class="md-headline">Add Marker</h3><form name="markerForm"><div layout="column"><div layout="row" layout-align="center center"><md-input-container md-no-float="" flex="90"><input name="address" id="address" type="text" placeholder="Location" ng-model="address"></md-input-container><span ng-if="locating" flex="10"><md-progress-circular md-mode="indeterminate" md-diameter="20"></md-progress-circular></span> <span ng-if="!locating" flex="10"><md-button class="md-icon-button md-primary" ng-click="locateCurrent()" aria-label="current location"><i class="material-icons">my_location</i></md-button></span></div><md-input-container><label>Type</label><md-select ng-model="typeId"><md-option ng-repeat="(key, type) in types" value="{{key}}">{{type}}</md-option></md-select></md-input-container><md-input-container><label>Description</label> <textarea ng-model="description" md-maxlength="240" row="3"></textarea></md-input-container><h4 class="md-subhead">Severity</h4><md-slider class="md-primary" ng-model="severity" step="1" min="1" max="5" aria-label="severity" md-discrete=""></md-slider></div></form></div></md-dialog-content><md-dialog-actions><md-button ng-click="cancel()" class="md-primary">Cancel</md-button><md-button ng-click="confirm()" class="md-primary">Save</md-button></md-dialog-actions></md-dialog>'),e.put("app/users/add.dialog.html",'<md-dialog aria-label="Add User" flex="30" flex-md="40" flex-sm="55" flex-xs="90" layout-padding=""><md-dialog-content><div class="md-dialog-content"><h3 class="md-headline">Add User</h3><form name="userForm"><div layout="column"><md-input-container class="user-form-input"><label>Email</label> <input type="email" name="email" required="" ng-pattern="/^.+@.+\\..+$/" ng-model="email"><div ng-messages="userForm.email.$error"><div ng-message="required">Email Required</div><div ng-message="pattern">Invalid Email</div></div></md-input-container><md-input-container class="user-form-input"><label>Name</label> <input ng-model="name"></md-input-container><h4 class="md-subhead">User Role</h4><md-radio-group ng-model="privilege"><md-radio-button value="M" class="md-primary btn-role">Member</md-radio-button><md-radio-button value="A" class="md-primary btn-role">Admin</md-radio-button></md-radio-group></div></form></div></md-dialog-content><md-dialog-actions><md-button ng-click="cancel()" class="md-primary">Cancel</md-button><md-button ng-click="add()" class="md-primary">Save</md-button></md-dialog-actions></md-dialog>'),e.put("app/users/users.html",'<div class="light-bg nav-padding" layout="column" layout-fill=""><div layout="row" layout-align="center start"><md-content class="light-bg user-content" flex="50" flex-lg="60" flex-md="70" flex-sm="90" flex-xs="100"><md-subheader class="user-subheader"><md-menu><md-button class="md-btn--shrink" ng-disabled="!us.isAdmin()" ng-click="$mdOpenMenu($event)">{{ us.showEnabled ? \'Enabled Users\' : \'Disabled Users\' }} <i class="material-icons mi--mid">expand_more</i></md-button><md-menu-content><md-menu-item><md-button ng-disabled="true">{{ us.showEnabled ? \'Enabled Users\' : \'Disabled Users\' }}</md-button></md-menu-item><md-menu-item><md-button ng-click="us.switchUsers()">{{ !us.showEnabled ? \'Enabled Users\' : \'Disabled Users\' }}</md-button></md-menu-item></md-menu-content></md-menu><md-input-container class="user-search" md-no-float=""><input id="user-search" type="text" ng-model="us.search" placeholder="Search"></md-input-container></md-subheader><md-list><md-list-item class="md-2-line" ng-repeat="user in us.users | filter:us.search" ng-click="null"><div class="md-list-item-text" layout="column"><h3>{{ user.name }}</h3><p>{{ user.email }}</p></div><md-menu class="md-secondary" hide-md="" hide-sm="" hide-xs=""><md-button ng-class="us.roleClass(user.privilege)" ng-disabled="user.disabled || us.isSelf(user.id) || !us.isAdmin()" ng-click="$mdOpenMenu($event)">{{ user.privilege == \'A\' ? \'Admin\' : \'Member\' }} <i class="material-icons mi--mid">arrow_drop_down</i></md-button><md-menu-content><md-menu-item><md-button ng-disabled="true">{{ user.privilege == \'A\' ? \'Admin\' : \'Member\' }}</md-button></md-menu-item><md-menu-item><md-button ng-click="us.changeRole(user)">{{ user.privilege != \'A\' ? \'Admin\' : \'Member\' }}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-secondary md-primary" ng-if="us.isAdmin()" ng-disabled="us.isSelf(user.id) || !user.disabled && !user.active" ng-click="us.showConfirm($event,$index,us.resetText(user),user,us.users)" hide-xs="">{{ us.resetText(user) }}</md-button><md-button class="md-secondary md-accent md-hue-1" ng-disabled="us.isSelf(user.id) || !us.isAdmin()" ng-click="us.showConfirm($event,$index,\'del\',user,us.users)" aria-label="Delete user"><i class="material-icons mi--mid">{{ user.disabled ? \'delete_forever\' : \'delete\' }}</i></md-button><md-divider></md-divider></md-list-item></md-list></md-content></div><md-button class="md-fab md-fab--lg md-fab--search pos-fixed" ng-click="us.focusSearch()" aria-label="Search user"><i class="material-icons mi--mid">search</i></md-button><md-button class="md-fab md-primary md-fab--lg md-fab--add pos-fixed" ng-if="us.isAdmin()" ng-click="us.addOrDeleteAll($event)" aria-label="Add user"><i class="material-icons mi--mid">{{ us.showEnabled ? \'add\' : \'delete_sweep\' }}</i></md-button></div>')}]);
//# sourceMappingURL=../maps/scripts/app-507ea40648.js.map
